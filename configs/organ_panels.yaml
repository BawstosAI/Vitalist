# Organ panel configuration
#
# This file defines which biomarkers belong to each organ/system.
# Variable names should match column names in your NHANES data.
#
# TODO: Update these variable names to match your actual NHANES column names.
# The names below are typical NHANES variable names, but may vary by cycle.

# Liver function panel
liver:
  - LBXSATSI    # Alanine aminotransferase (ALT) (U/L)
  - LBXSASSI    # Aspartate aminotransferase (AST) (U/L)
  - LBXSGTSI    # Gamma glutamyl transferase (GGT) (U/L)
  - LBXSAPSI    # Alkaline phosphatase (ALP) (U/L)
  - LBXSBU      # Blood urea nitrogen (BUN) (mg/dL)
  - LBXSTP      # Total protein (g/dL)
  - LBXSAL      # Albumin (g/dL)
  - LBXSTB      # Total bilirubin (mg/dL)
  # Engineered features
  - AST_ALT_Ratio  # De Ritis ratio (AST/ALT)

# Kidney function panel
kidney:
  - LBXSCR      # Creatinine, refrigerated serum (mg/dL)
  - LBXSBU      # Blood urea nitrogen (BUN) (mg/dL)
  - URXUMA      # Albumin, urine (ug/mL)
  - URXUCR      # Creatinine, urine (mg/dL)
  - LBXSUA      # Uric acid (mg/dL)
  # Engineered features
  - eGFR            # Estimated Glomerular Filtration Rate
  - ACR             # Albumin-to-Creatinine Ratio
  - BUN_Cr_Ratio    # BUN/Creatinine Ratio

# Cardiovascular / Metabolic panel
cardio_metabolic:
  - BPXSY1      # Systolic blood pressure (mmHg)
  - BPXDI1      # Diastolic blood pressure (mmHg)
  - LBXTC       # Total cholesterol (mg/dL)
  - LBXTR       # Triglyceride (mg/dL)
  - LBDHDD      # Direct HDL cholesterol (mg/dL)
  - LBDLDL      # LDL cholesterol (mg/dL)
  - LBXGLU      # Fasting glucose (mg/dL)
  - LBXGH       # Glycohemoglobin (HbA1c) (%)
  - BMXBMI      # Body Mass Index (kg/m^2)
  - BMXWAIST    # Waist circumference (cm)
  # Engineered features
  - Non_HDL            # Non-HDL Cholesterol (TC - HDL)
  - TC_HDL_Ratio       # Total Cholesterol/HDL Ratio
  - TG_HDL_Ratio       # Triglyceride/HDL Ratio

# Immune system / Inflammatory markers
immune:
  - LBXWBCSI    # White blood cell count (1000 cells/uL)
  - LBXLYPCT    # Lymphocyte percent (%)
  - LBXMOPCT    # Monocyte percent (%)
  - LBXNEPCT    # Neutrophils percent (%)
  - LBXEOPCT    # Eosinophils percent (%)
  - LBXBAPCT    # Basophils percent (%)
  # Engineered features
  - NLR                    # Neutrophil-to-Lymphocyte Ratio
  - Abs_Lymphocyte_Count   # Absolute Lymphocyte Count
  - Abs_Neutrophil_Count   # Absolute Neutrophil Count

# Blood / Hematological system
hematologic:
  - LBXRBCSI    # Red blood cell count (million cells/uL)
  - LBXHGB      # Hemoglobin (g/dL)
  - LBXHCT      # Hematocrit (%)
  - LBXMCVSI    # Mean cell volume (fL)
  - LBXMCHSI    # Mean cell hemoglobin (pg)
  - LBXMC       # Mean cell hemoglobin concentration (g/dL)
  - LBXRDW      # Red cell distribution width (%)
  - LBXPLTSI    # Platelet count (1000 cells/uL)

# Endocrine / Thyroid (if available)
# endocrine:
#   - LBXT4     # Thyroxine (T4) (ug/dL)
#   - LBXT3     # Triiodothyronine (T3) (ng/dL)
#   - LBXTSH    # Thyroid stimulating hormone (TSH) (uIU/mL)
#   - LBXIN     # Insulin (uU/mL)

# Global covariates (included with all organ models)
# NOTE: RIDAGEYR is the TARGET variable, DO NOT include it as a covariate!
# NOTE: After one-hot encoding, categorical vars get renamed (e.g., RIAGENDR -> RIAGENDR_2.0)
global_covariates:
  # - RIDAGEYR    # Age in years at screening - REMOVED: this is the target!
  - RIAGENDR_2.0    # Gender (0=Male, 1=Female) - after one-hot encoding
  - BMXBMI      # Body Mass Index
  # - SMOKER    # Smoking status (if encoded)
  # - DMDEDUC2  # Education level

# Age variable (target for prediction)
target_variable: "RIDAGEYR"

# Preprocessing parameters
preprocessing:
  min_age: 18
  max_age: 80
  missing_threshold: 0.5  # Drop columns with >50% missing
  imputation_strategy: "median"
  outlier_removal: true
  outlier_method: "iqr"
  outlier_threshold: 3.0
